<!--
Carla Lorena Flores Subias A01331363
Isabel García Pérez A01331405
-->
<!DOCTYPE html>
<html>
    <head>
        <title>Golden Cloud Factory</title>
        <meta charset="UTF-8"/>
        <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css"/>
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="css/GCF.css"/>
    </head>
    <body>
        <header class="page-header">
            <div class="row head">
                <div class="col-sm-4"></div>
                <div class="col-sm-1">
                    <img alt="Logo_GCF" src="Logo/GCF_100x82.png">
                </div>
                <div class="col-sm-3">
                    <h1 id="title_header"><small>Golden Cloud Factory</small></h1>
                </div>
                <div class="col-sm-4"></div>
            </div>
        </header>
        <nav class="navbar">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#Menu">
                                <img alt="GCF" src="Logo/GCF_30x26.png">
                            </a>
                </div>
                <form class="navbar-form" role="search">
                    <div class="form-group">
                        <label for="buscaEmpleado">Buscar por:</label>
                        <select class="form-control" id="seleccion_parametro">
                            <option value="nombre">Nombre</option>
                            <option value="apellido">Apellidos</option>
                            <option value="numero">Numero de cuenta</option>
                            <option value="depto">Departamento</option>
                        </select>
                    </div>
                      <div class="form-group">
                        <input type="text" class="form-control" id="teztbuscarempleado" placeholder="Buscar Empleado">
                          <button type="button" class="btn" onclick="buscar()"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button></div>
                </form>
            </div>
        </nav>
        <section class="container jumbotron" id="tabla_empleados">
                <p>Lista de empleados <button type="button" class="btn" data-toggle="modal" data-target="#Crear_empleado"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button></p>
                
                    <table class="table table-striped" id="tabla">
                        <tr id="table_header">
                            <th>Nombre</th>
                            <th>Apellidos</th>
                            <th>Numero de Cuenta</th>
                            <th>Departamento</th>
                        </tr>
                    </table>
        </section>
        <div class="container-fluid modal fade modal-sm" id="Crear_empleado">
            <div class="modal-content">
                <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title" id="header_title">Agregar empleado</h3>
                </div>
                <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="nombreEmpleado">Nombre</label>
                        <input type="text" class="form-control" id="textnombreempleado" placeholder="Nombre">
                    </div>
                    <div class="form-group">
                        <label for="apellidosEmpleado">Apellido(s)</label>
                        <input type="text" class="form-control" id="textapellidos" placeholder="Apellidos">
                    </div>
                    <div class="form-group">
                        <label for="numeroCuenta">Numero de cuenta</label>
                        <input type="text" class="form-control" id="textnumerocuenta" placeholder="Numero Cuenta">
                    </div>
                    <div class="form-group">
                        <label for="departamentoempleado">Departamento</label>
                        <select class="form-control" id="selectdepartamento">
                            <option value="Finanzas">Finanzas</option>
                            <option value="Sistemas">Sistemas</option>
                            <option value="Mercadotecnia">Mercadotecnia</option>
                            <option value="Administración">Administración</option>
                        </select>
                    </div>
                    <div class="modal-footer">
                    <input type="button" value="Registrar" class="btn" onclick="registrar()">
                    </div>
                </form>
                </div>
            </div>
        </div>
        <footer class="panel-footer">Golden Cloud Factory &#174</footer>
    </body> 
    <script>
        var arr=new Array();
        var cont=0;
        function registrar(){
           var nombre=document.getElementById("textnombreempleado").value;
            var apellidos=document.getElementById("textapellidos").value;
            var numero=document.getElementById("textnumerocuenta").value;
            var depto=document.getElementById("selectdepartamento").value;
           arr.push({ id:cont,nombre: nombre, apellidos: apellidos, numero:numero, depto:depto});
           cont++;
           var tabla = document.getElementById("tabla");
           var row = tabla.insertRow(-1);
           var cell1 = row.insertCell(0);
           var cell2 = row.insertCell(1);
           var cell3 = row.insertCell(2);
           var cell4 = row.insertCell(3);
            cell1.innerHTML = nombre;
            cell2.innerHTML = apellidos;
            cell3.innerHTML = numero;
            cell4.innerHTML = depto;
            document.getElementById("textnombreempleado").value="";
            document.getElementById("textapellidos").value="";
            document.getElementById("textnumerocuenta").value="";
            document.getElementById("selectdepartamento").value="";
       };
        function buscar(){
           var clave=document.getElementById("teztbuscarempleado").value;
           var tipo=document.getElementById("seleccion_parametro").value;
           var ac=0;
           var tabla = document.getElementById("tabla");
           tabla.innerHTML="<tr><th>Nombre</th><th>Apellidos</th><th>Numero de Cuenta</th><th>Departamento</th><th></th></tr>";
           switch(tipo){
               case "nombre":
                   for(var i=0; i<cont;i++){
                       if(arr[i].nombre.includes(clave)){
                            ac++;
                           row = tabla.insertRow(ac);
                           cell1 = row.insertCell(0);
                           cell2 = row.insertCell(1);
                           cell3 = row.insertCell(2);
                           cell4 = row.insertCell(3);
                           cell5 = row.insertCell(4);
                            cell1.innerHTML = arr[i].nombre;
                            cell2.innerHTML = arr[i].apellidos;
                            cell3.innerHTML = arr[i].numero;
                            cell4.innerHTML = arr[i].depto;
                            cell5.innerHTML = "<button type='button' class='btn' data-toggle='modal' data-target='#Crear_empleado' onclick=modificar("+i+")>Modificar</button><button type='button' class='btn' onclick=borrar("+i+")>Borrar</button>";
                       }
                   }
                   break;
               case "apellido":
                   for(var i=0; i<cont;i++){
                       if(arr[i].apellidos.includes(clave)){
                           ac++;
                           row = tabla.insertRow(ac);
                           cell1 = row.insertCell(0);
                           cell2 = row.insertCell(1);
                           cell3 = row.insertCell(2);
                           cell4 = row.insertCell(3);
                           cell5 = row.insertCell(4);
                            cell1.innerHTML = arr[i].nombre;
                            cell2.innerHTML = arr[i].apellidos;
                            cell3.innerHTML = arr[i].numero;
                            cell4.innerHTML = arr[i].depto;
                            cell5.innerHTML = "<button type='button' class='btn' data-toggle='modal' data-target='#Crear_empleado' onclick=modificar("+i+")>Modificar</button><button type='button' class='btn' onclick=borrar("+i+")>Borrar</button>";
                       }
                   }
                   break;
               case "numero":
                   for(var i=0; i<cont;i++){
                       if(arr[i].numero.includes(clave)){
                            ac++;
                           row = tabla.insertRow(ac);
                           cell1 = row.insertCell(0);
                           cell2 = row.insertCell(1);
                           cell3 = row.insertCell(2);
                           cell4 = row.insertCell(3);
                           cell5 = row.insertCell(4);
                            cell1.innerHTML = arr[i].nombre;
                            cell2.innerHTML = arr[i].apellidos;
                            cell3.innerHTML = arr[i].numero;
                            cell4.innerHTML = arr[i].depto;
                            cell5.innerHTML = "<button type='button' class='btn' data-toggle='modal' data-target='#Crear_empleado' onclick=modificar("+i+")>Modificar</button><button type='button' class='btn' onclick=borrar("+i+")>Borrar</button>";
                       }
                   }
                   break;
               case "depto":
                   for(var i=0; i<cont;i++){
                       if(arr[i].depto.includes(clave)){
                              ac++;
                           row = tabla.insertRow(ac);
                           cell1 = row.insertCell(0);
                           cell2 = row.insertCell(1);
                           cell3 = row.insertCell(2);
                           cell4 = row.insertCell(3);
                           cell5 = row.insertCell(4);
                            cell1.innerHTML = arr[i].nombre;
                            cell2.innerHTML = arr[i].apellidos;
                            cell3.innerHTML = arr[i].numero;
                            cell4.innerHTML = arr[i].depto;
                            cell5.innerHTML = "<button type='button' class='btn' data-toggle='modal' data-target='#Crear_empleado' onclick=modificar("+i+")>Modificar</button><button type='button' class='btn' onclick=borrar("+i+")>Borrar</button>";

                       }
                   }
                   break;
                   
           }
       };
        function borrar(i){
           arr.splice(i,1);
           buscar();
           };
        function modificar(i){
            header_title.innerText="Modificar empleado";
            document.getElementById("textnombreempleado").value=""+arr[i].nombre;
            document.getElementById("textapellidos").value=arr[i].apellidos;
            document.getElementById("textnumerocuenta").value=arr[i].numero;
            document.getElementById("selectdepartamento").value=arr[i].depto;
            arr.splice(i,1);
            buscar(); 
       };
    </script>
</html>
